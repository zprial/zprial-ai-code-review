# Story 1.0: Foundation & UI Shell

## Status
Ready

## Story
**As a** 平台工程团队,
**I want** 初始化项目脚手架并建立基础控制台框架,
**so that** 后续审查功能可以在统一、可靠的结构上快速迭代。

## Acceptance Criteria
1. 建立 Monorepo 结构（`apps/`, `packages/`, `prisma/`, `scripts/`），配置 pnpm workspace、ESLint、Prettier、Git hooks 与 CI 基线。
2. 集成公司 SSO 权限与基础角色（admin/reviewer/ops/viewer），控制台支持登录/登出与无权限提示。
3. 实现全局 UI Shell：左侧导航（Dashboard、审查详情、风险报表、配置、通知、审计、设置）、顶部工具栏（环境切换、时间范围、搜索），并使用 Ant Design 默认主题占位未来设计资源。
4. 提供运行指南：更新 `README.md` / `docs/setup-local.md` 中的启动命令，确保 `pnpm dev` 同时启动后端服务与 Web 控制台。

## Tasks / Subtasks
- [ ] 初始化仓库结构与工具链（AC: 1）
  - [ ] 配置 pnpm workspace、ESLint/Prettier、commit hooks（AC: 1）
  - [ ] 在 GitLab CI 中添加 `lint-test` pipeline（AC: 1）
- [ ] 实现 SSO 接入与角色守卫（AC: 2）
  - [ ] 建立角色枚举、路由守卫、未授权提示页（AC: 2）
  - [ ] 将角色映射写入 `.env.example` 并更新文档（AC: 2）
- [ ] 搭建 UI Shell 与基础主题（AC: 3）
  - [ ] 左侧导航与顶部工具栏响应式布局、Skeleton 状态（AC: 3）
  - [ ] 预留主题变量扩展点，暂用 Ant Design 默认 token（AC: 3）
- [ ] 更新文档与本地运行说明（AC: 4）
  - [ ] 在 `docs/setup-local.md` 添加新命令/依赖提醒（AC: 4）
  - [ ] 在 `README.md`（如存在）或额外文档记录常用脚本（AC: 4）

## Dev Notes
- 参考 `docs/prd.md:34-41` 的项目基础要求与 `docs/architecture.md:34-58` 的仓库结构建议。
- UI 组件、颜色和 typography 仍参考 `docs/front-end-spec.md:92-178` 的布局规范，主题配色暂用 Ant Design 默认值并记录后续替换注意事项。
- 确保后台 NestJS 与前端 Next.js 均支持热热加载，建议使用 `pnpm dev --parallel` 或 Turbo 任务。
- 提前准备 Storybook/Playground 方便后续组件开发（可选但建议）。

### Testing
- PNPM workspace lint/test pipeline 需通过；添加基础单元测试验证导航渲染、角色守卫。
- 手动验证登录、角色切换、无权限页面跳转。
- 验证移动端/窄屏情况下的导航折叠行为。

## Change Log
| Date | Version | Description | Author |
| --- | --- | --- | --- |
| 2025-10-18 | 0.1 | 初始草稿 | PO Sarah |
| 2025-10-20 | 0.2 | Status set to Ready | PO Sarah |

## Dev Agent Record

### Agent Model Used

### Debug Log References

### Completion Notes List

### File List

## QA Results
