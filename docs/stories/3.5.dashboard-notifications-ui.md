# Story 3.5: Dashboard & Notifications UI

## Status
Ready

## Story
**As a** 工程经理,
**I want** 通过控制台 Dashboard 和通知配置界面掌握质量态势,
**so that** 能够及时发现风险并调整升级策略。

**Dependencies:** Stories 1.0 Foundation & UI Shell, 2.4 Review Detail UI Experience, 3.2 Config Parameter Management

## Acceptance Criteria
1. Dashboard 页面包含 KPI 卡片（成功率、平均耗时、阻断总数、告警数量）、队列状态图表、最新阻断列表，信息与 `docs/front-end-spec.md#dashboard` 中的布局一致。
2. KPI 卡与图表支持时间范围/环境切换，显示最后更新时间及异常提示；阻断列表提供快速操作入口。
3. 通知与升级页面展示钉钉 webhook、@人员列表、阈值配置表单，并提供“发送测试”按钮、历史通知记录表格。
4. 提供 Skeleton/Loading 状态、错误提示以及无数据占位，符合可访问性和响应式要求。

## Tasks / Subtasks
- [ ] 构建 Dashboard 布局与组件（AC: 1,2）
  - [ ] KPI 卡组件（含趋势箭头、刷新时间）（AC: 1,2）
  - [ ] 队列状态图表与告警摘要（AC: 1,2）
  - [ ] 最新阻断列表 + 快捷操作（AC: 1,2）
- [ ] 实现筛选与状态同步（AC: 2）
  - [ ] 环境、时间范围、仓库等筛选器（AC: 2）
  - [ ] 数据刷新/错误状态提示（AC: 2,4）
- [ ] 通知配置界面（AC: 3）
  - [ ] Webhook/人员/阈值表单及验证（AC: 3）
  - [ ] “发送测试”功能与结果反馈（AC: 3,4）
  - [ ] 历史通知表格与重试按钮（AC: 3）
- [ ] 状态与可访问性（AC: 4）
  - [ ] Skeleton、空状态、错误提示组件（AC: 4）
  - [ ] 响应式布局，移动端导航折叠（AC: 4）

## Dev Notes
- 严格参照 `docs/front-end-spec.md#dashboard` 的 Dashboard 及通知设计细节；通知表单参考 `docs/front-end-spec.md#notifications`；图表可使用 ECharts 或 Ant Design Charts。
- KPI 数据、队列状态、通知历史来自后端 API（`docs/architecture.md:123-173`、`docs/runbook.md:23-38`）；注意缓存与刷新策略。
- 阻断列表操作与审查详情（Story 2.4）保持一致，调用相同 API 并处理反馈。
- 通知配置变更需触发后端配置保存逻辑（Story 3.2），确保审计记录。

### Testing
- 组件测试覆盖 KPI 卡展示、筛选器状态、表单验证；E2E 测试验证常见操作流程（调整时间范围、发送通知测试）。
- 手动检查移动端布局、无数据状态与错误提示的可访问性。
- 验证 Dashboard 数据与后端指标一致，Cross-check 与 Grafana 指标。

## Change Log
| Date | Version | Description | Author |
| --- | --- | --- | --- |
| 2025-10-18 | 0.1 | 初始草稿 | PO Sarah |
| 2025-10-20 | 0.2 | Status set to Ready | PO Sarah |

## Dev Agent Record

### Agent Model Used

### Debug Log References

### Completion Notes List

### File List

## QA Results
